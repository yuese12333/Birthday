<div align="center">

# 每日记录

> 本文档用于记录项目每日项目进度，问题等，项目从 2025-10-7 开始。（但是 10 号才想起来做这件事……）

</div>

## 2025-10-10

### 今日成果：

1. 完成了第三幕的各种动画（终于！），现在每完成一张数织图，对应的图片就会显示并移动到对应一角，拼成一张大图，现在只需将 scene3_0.png 替换为规划中的图片即可。但第三幕预期还要添加一些文本。
2. 对第二幕进行优化，每个科目都兼容不同的题目类型，并保持题目类型可扩展性，并对应地调整了编辑器；优化完成一科后的跳转逻辑和选择题的页面显示。
3. 对第一幕脚本编辑器优化，针对 lines 无法用滚轮滚动查看的问题，做了让 lines 能显示 20 行的补救；调整选择 goto 为下拉框根据现有阶段选择；修复了修改阶段的失败层和序号没有确认/取消键的问题。
4. 注册页面输入生日添加特殊菜单。

### 明日待办：

- ~~修复第三幕中进入下一题后大图没有隐藏的问题。~~

## 2025-10-11

### 今日成果：

1. 修复了第三幕中进入下一题后大图没有隐藏的问题。
2. 修复了第二幕在做题期间会触发懒散提醒的问题。
3. 添加了成就系统。（`js\core\achievements.js`）。
4. 添加了成就音效（`./assets/audio/Achievement.wav`），并在解锁成就时播放。
5. 添加了终章成就显示模块，并设置成就显示可见性（模仿 steam 成就），优先显示可见成就，不可见成就可点击查看;添加了注册页的 debug 按钮`清空成就`;添加了`assets\images\lock.png`和`assets\images\unlock.png`作为成就解锁/未解锁的图标。

   > 这里出现成就反复触发的 bug，原因是成就触发时会有一个短期的去重机制，防止同一成就被重复触发，但这个机制在刷新页面后会失效，导致成就可以被重复触发。解决方法是将短期去重机制改为永久记录，成就只会在首次解锁时触发。已解决。

   > **目前成就包括：**
   >
   > - 成就 ~~`0-0`~~`0-1`：发现生日彩蛋（注册页面输入指定生日密码）。
   > - 成就 ~~`0-1`~~`0-2`：记性真差（注册页面点击“我忘了”按钮 5 次）。
   > - 成就 ~~`0-2`~~`0-3`：执着的尝试（注册页面密码错误 6 次）。
   > - 成就 ~~`2-0`~~`2-1`：超级学霸 — 第二幕考试一次通过（未使用提示、无跳过、无宠溺错误）。
   > - 成就 ~~`2-1`~~`2-2`：我帮你做啦（隐藏）— 本次考试每题均由宠溺跳过通过。
   > - 成就 ~~`2-2`~~`2-3`：被提示包圆（隐藏）— 本次考试每题都靠第三次提示自动通过。
   > - 成就 ~~`2-3`~~`2-4`：错误也可爱（隐藏）— 本次考试每题均为宠溺错误方式完成（全部答错走宠溺逻辑）。
   > - 成就 ~~`3-0`~~`3-1`：心灵手巧 — 完成所有数织而没有使用提示。
   > - 成就 `8-0`：完成旅程 — 到达终章，完成整个旅程。
   > - 成就 `8-1`：极速通关 — 在注册后十分钟内完成旅程。

6. 调整了第二幕考试的计分方式，现在根据题型得分，而不是根据难度得分。
7. 添加了通关印记（`birthday_completed_mark`），并实现当通关印记为`ture`时，可以在通关页面重玩前七幕，并可以快速返回通关页面（目前仅实现 1，2，3 幕的快速返回），通关页面点击“重新开始旅程”会清除通关印记。
8. 发现并修复在第八幕点击“重新开始旅程”后再次注册直接触发成就“极速通关”的 bug。（方法：在重新开始时视为未进入过第八幕）
9. 发现并修复在第三幕如果在动画完成前点击“下一题”会导致动画错乱的 bug。(方法：禁用按钮直到动画完成)
10. 添加注册页用户名输入审查，用户名为空时禁止注册。
11. 添加了`.prettierrc.js`代码格式化配置文件。

## 2025-10-12

### 今日成果：

1. 添加了第二幕选项的字母序显示。
2. 添加了第四、五幕转场动画需要的图片。
3. 发现并修复了第四、五幕转场动画中图片闪动过快与显示不全的 bug。
4. 新增成就`3-2`：叛逆心理 — 涂色与正确答案完全相反。
5. 新增成就`0-0`、`1-0`、`2-0`、`3-0`，并更新成就序号（现在`x-0`为完成一幕的成就，之前的成就按序号顺延）。

### 发现问题
1. 发现第一幕脚本编辑器使用异常的bug，待修复。

## 2025-10-13

### 今日成果：